{% extends "admin/base.html" %}

{% block content %}
<h1 class="text-2xl font-bold mb-6">Заказы</h1>

<div class="space-y-4">
    {% for order in orders|reverse %}
    <div class="glass p-5 rounded-lg border-l-4 {% if order.status == 'paid' %}border-green-500{% else %}border-yellow-500{% endif %}">
        <div class="flex justify-between mb-2">
            <span class="font-bold">Заказ #{{ order.order_id }}</span>
            <span class="text-sm {% if order.status == 'paid' %}text-green-400{% else %}text-yellow-400{% endif %}">
                {{ 'Оплачен' if order.status == 'paid' else 'В ожидании' }}
            </span>
        </div>
        <p><strong>{{ order.item_name }}</strong> — {{ order.amount }} ₽</p>
        <p class="text-gray-300">{{ order.name }} • {{ order.phone }} • {{ order.email }}</p>
        <p class="text-sm text-gray-500 mt-2">{{ order.timestamp[:10] }}</p>
        {% if order.status != 'paid' %}
        <form method="POST" action="{{ url_for('admin_order_delete', order_id=order.order_id) }}" class="inline mt-3" onsubmit="return confirm('Удалить заказ?')">
            <button type="submit" class="text-red-500 hover:underline text-sm">Удалить</button>
        </form>
        {% endif %}
    </div>
    {% else %}
    <p class="text-gray-500">Нет заказов</p>
    {% endfor %}
</div>
{% endblock %}