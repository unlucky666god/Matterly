<!DOCTYPE html>
<html lang="ru-RU">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- –û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–∞-—Ç–µ–≥–∏ -->
    <meta name="description"
        content="{% block meta_description %}Matterly ‚Äî –ø—Ä–µ–º–∏—É–º 3D-–ø–µ—á–∞—Ç—å –ø–æ –≤—Å–µ–π –†–æ—Å—Å–∏–∏. –ì–æ—Ç–æ–≤—ã –∑–∞ 24 —á–∞—Å–∞. –¢–æ—á–Ω–æ. –ë—ã—Å—Ç—Ä–æ. –ë–µ–∑ –≥–æ–ª–æ–≤–Ω–æ–π –±–æ–ª–∏.{% endblock %}">
    <meta name="keywords"
        content="{% block meta_keywords %}3D –ø–µ—á–∞—Ç—å, Matterly, –∑–∞–∫–∞–∑ 3D –º–æ–¥–µ–ª–∏, –ø—Ä–æ—Ç–æ—Ç–∏–ø–∏—Ä–æ–≤–∞–Ω–∏–µ, PLA, ABS, PETG, 3D –ø–µ—á–∞—Ç—å –∑–∞ 24 —á–∞—Å–∞, 3D –ø–µ—á–∞—Ç—å –ú–æ—Å–∫–≤–∞, 3D –ø—Ä–∏–Ω—Ç–µ—Ä –∑–∞–∫–∞–∑{% endblock %}">
    <meta name="author" content="Matterly">
    <meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
    <meta name="color-scheme" content="dark">

    <!-- Open Graph / Facebook -->
    <meta property="og:title" content="{% block og_title %}Matterly ‚Äî From idea to matter{% endblock %}">
    <meta property="og:description"
        content="{% block og_description %}–í—ã –ø—Ä–∏—à–ª–∏ —Å –∏–¥–µ–µ–π ‚Äî —É–π–¥—ë—Ç–µ —Å –≥–æ—Ç–æ–≤—ã–º –∏–∑–¥–µ–ª–∏–µ–º.{% endblock %}">
    <meta property="og:type" content="website">
    <meta property="og:url" content="{{ request.url }}">
    <meta property="og:image" content="{{ url_for('static', filename='media/og-image.webp', _external=True) }}">
    <meta property="og:image:width" content="1664">
    <meta property="og:image:height" content="928">
    <meta property="og:image:alt" content="Matterly - 3D –ø–µ—á–∞—Ç—å –Ω–∞ –∑–∞–∫–∞–∑">
    <meta property="og:site_name" content="Matterly">
    <meta property="og:locale" content="ru_RU">

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="{% block twitter_title %}Matterly ‚Äî From idea to matter{% endblock %}">
    <meta name="twitter:description"
        content="{% block twitter_description %}–í—ã –ø—Ä–∏—à–ª–∏ —Å –∏–¥–µ–µ–π ‚Äî —É–π–¥—ë—Ç–µ —Å –≥–æ—Ç–æ–≤—ã–º –∏–∑–¥–µ–ª–∏–µ–º.{% endblock %}">
    <meta name="twitter:image" content="{{ url_for('static', filename='media/og-image.webp', _external=True) }}">
    <meta name="twitter:site" content="@matterly">

    <!-- –ö–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏–µ —Å—Å—ã–ª–∫–∏ -->
    <link rel="canonical" href="{{ request.url }}">

    <!-- Favicon –∏ –∏–∫–æ–Ω–∫–∏ -->
    <link rel="apple-touch-icon" sizes="180x180" href="{{ url_for('static', filename='favicon/favicon.ico') }}">
    <link rel="icon" type="image/png" sizes="32x32" href="{{ url_for('static', filename='favicon/favicon.ico') }}">
    <link rel="icon" type="image/png" sizes="16x16" href="{{ url_for('static', filename='favicon/favicon.ico') }}">
    <link rel="manifest" href="{{ url_for('static', filename='favicon/favicon.ico') }}">
    <link rel="mask-icon" href="{{ url_for('static', filename='favicon/favicon.ico') }}" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="theme-color" content="#ffffff">

    <!-- Schema.org —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Organization",
        "name": "Matterly",
        "url": "https://matterly.ru/",
        "logo": "{{ url_for('static', filename='media/favicon.ico', _external=True) }}",
        "description": "–ü—Ä–µ–º–∏—É–º 3D-–ø–µ—á–∞—Ç—å –ø–æ –≤—Å–µ–π –†–æ—Å—Å–∏–∏. –ì–æ—Ç–æ–≤—ã –∑–∞ 24 —á–∞—Å–∞. –¢–æ—á–Ω–æ. –ë—ã—Å—Ç—Ä–æ. –ë–µ–∑ –≥–æ–ª–æ–≤–Ω–æ–π –±–æ–ª–∏.",
        "address": {
            "@type": "PostalAddress",
            "streetAddress": "–≥. –ú–æ—Å–∫–≤–∞, —É–ª. –õ–∞–Ω–¥—ã—à–µ–≤–∞—è 12—Å2",
            "addressLocality": "–ú–æ—Å–∫–≤–∞",
            "postalCode": "125466",
            "addressCountry": "RU"
        },
        "contactPoint": {
            "@type": "ContactPoint",
            "telephone": "+7-905-742-37-37",
            "contactType": "customer service",
            "email": "info@matterly.ru",
            "areaServed": "RU",
            "availableLanguage": ["Russian", "English"]
        },
        "sameAs": [
            "https://vk.com/matterly",
            "https://t.me/matterly"
        ]
    }
    </script>

    {% block structured_data %}{% endblock %}

    <title>{% block title %}Matterly ‚Äî From idea to matter{% endblock %}</title>

    <!-- Preload –≤–∞–∂–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤ -->
    <link rel="preload" href="{{ url_for('static', filename='css/style.css') }}" as="style">
    <link rel="preload" href="{{ url_for('static', filename='js/main.js') }}" as="script">

    <!-- DNS-prefetch –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤ -->
    <link rel="dns-prefetch" href="//fonts.googleapis.com">
    <link rel="dns-prefetch" href="//yandex.ru">

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="shortcut icon" href="/static/img/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        dark: { 900: '#0B0F19', 800: '#121826' },
                        accent: '#00F5D4',
                        text: { primary: '#E2E8F0', secondary: '#A0AEC0' }
                    },
                    animation: { 'pulse-neon': 'pulse-neon 2s infinite' },
                    keyframes: {
                        'pulse-neon': {
                            '0%, 100%': { boxShadow: '0 0 0 0 rgba(0, 245, 212, 0.4)' },
                            '50%': { boxShadow: '0 0 0 12px rgba(0, 245, 212, 0)' }
                        }
                    }
                }
            }
        }
    </script>
</head>

<body>
    <h1 class="sr-only">–ü—Ä–µ–º–∏—É–º 3D-–ø–µ—á–∞—Ç—å –ø–æ –≤—Å–µ–π –†–æ—Å—Å–∏–∏. –ì–æ—Ç–æ–≤—ã –∑–∞ 24 —á–∞—Å–∞.</h1>

    {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
    <div class="fixed top-20 right-4 z-50 max-w-sm w-full">
        {% for category, message in messages %}
        <div
            class="p-4 mb-2 rounded-lg shadow-lg backdrop-blur-sm {{ 'bg-red-100 text-red-700 border border-red-300' if category == 'error' else 'bg-green-100 text-green-700 border border-green-300' }}">
            <div class="flex justify-between items-start">
                <span>{{ message }}</span>
                <button class="ml-4 text-lg font-bold hover:opacity-70 transition-opacity"
                    onclick="this.parentElement.parentElement.remove()">&times;</button>
            </div>
        </div>
        {% endfor %}
    </div>
    {% endif %}
    {% endwith %}

    <!-- Header -->
    <header class="glass fixed top-4 left-4 right-4 z-50 mx-auto max-w-7xl px-4 py-3 backdrop-blur-sm">
        <div class="flex justify-between items-center">
            <a href="/" class="text-xl font-bold text-accent">Matterly</a>

            <nav class="hidden md:flex space-x-6">
                {% for page in [('catalog', '–ö–∞—Ç–∞–ª–æ–≥'), ('services', '–£—Å–ª—É–≥–∏'), ('materials', '–ú–∞—Ç–µ—Ä–∏–∞–ª—ã'),
                ('portfolio', '–ü–æ—Ä—Ç—Ñ–æ–ª–∏–æ'), ('delivery', '–î–æ—Å—Ç–∞–≤–∫–∞'), ('articles', '–°—Ç–∞—Ç—å–∏'), ('contacts', '–ö–æ–Ω—Ç–∞–∫—Ç—ã')]
                %}
                <a href="/{{ page[0] }}" class="font-medium text-text-secondary hover:text-accent transition">{{ page[1]
                    }}</a>
                {% endfor %}
            </nav>

            <form class="relative hidden md:block" method="GET" action="/search">
                <input type="text" name="q" placeholder="–ü–æ–∏—Å–∫..."
                    class="px-4 py-2 text-sm rounded-full bg-white/10 backdrop-blur-sm border border-white/20 focus:outline-none focus:ring-1 focus:ring-accent text-text-primary placeholder:text-text-secondary">
                <button type="submit" class="absolute right-3 top-2.5 text-text-secondary">üîç</button>
            </form>

            <button id="mobile-menu-button"
                class="md:hidden flex flex-col justify-center items-center p-3 rounded-lg hover:bg-gray-800 transition z-50">
                <span class="w-6 h-0.5 bg-text-primary mb-1 transition-transform origin-center"></span>
                <span class="w-6 h-0.5 bg-text-primary mb-1 transition-all"></span>
                <span class="w-6 h-0.5 bg-text-primary transition-transform origin-center"></span>
            </button>
        </div>
    </header>

    <!-- Mobile Menu -->
    <div id="mobile-menu-overlay"
        class="fixed inset-0 bg-black bg-opacity-60 z-40 opacity-0 pointer-events-none transition-opacity duration-300 md:hidden">
    </div>
    <div id="mobile-menu"
        class="fixed top-0 right-0 h-full w-4/5 max-w-xs bg-dark-900 bg-opacity-90 backdrop-blur-xl border-l border-gray-700 z-50 transform translate-x-full transition-transform duration-300 ease-in-out p-6 flex flex-col md:hidden">
        <div class="flex justify-between items-center mb-10 mt-6">
            <span class="text-xl font-bold text-text-primary">–ú–µ–Ω—é</span>
            <button id="close-menu"
                class="text-text-primary hover:text-accent text-3xl w-8 h-8 flex items-center justify-center rounded-full hover:bg-gray-800 transition">&times;</button>
        </div>
        <nav class="flex flex-col space-y-6 flex-1">
            <a href="/" class="text-lg font-medium text-text-primary hover:text-accent transition py-2">–ì–ª–∞–≤–Ω–∞—è</a>
            <a href="/catalog"
                class="text-lg font-medium text-text-primary hover:text-accent transition py-2">–ö–∞—Ç–∞–ª–æ–≥</a>
            <a href="/services"
                class="text-lg font-medium text-text-primary hover:text-accent transition py-2">–£—Å–ª—É–≥–∏</a>
            <a href="/portfolio"
                class="text-lg font-medium text-text-primary hover:text-accent transition py-2">–ü–æ—Ä—Ç—Ñ–æ–ª–∏–æ</a>
            <a href="/articles"
                class="text-lg font-medium text-text-primary hover:text-accent transition py-2">–°—Ç–∞—Ç—å–∏</a>
            <a href="/contacts"
                class="text-lg font-medium text-text-primary hover:text-accent transition py-2">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a>
        </nav>
        <div class="mt-auto pt-6 border-t border-gray-700">
            <p class="text-sm text-gray-400">¬© 2025 Matterly</p>
        </div>
    </div>

    <main class="pt-24 pb-16">
        {% block content %}{% endblock %}
    </main>

    <!-- Footer -->
    <footer class="glass mx-4 md:mx-auto max-w-7xl px-6 py-8 backdrop-blur-sm mt-12">
        <div class="text-center">
            <div id="logo-animated" class="text-2xl font-bold mb-4 text-accent">Matterly</div>
            <p class="text-text-secondary mb-4">¬© 2025 Matterly. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
            <p class="text-text-secondary mb-4">Created by Gamma</p>
            <div class="flex justify-center space-x-6 text-sm text-text-secondary">
                <a href="#" class="hover:text-accent transition">–í–ö–æ–Ω—Ç–∞–∫—Ç–µ</a>
                <a href="#" class="hover:text-accent transition">Telegram</a>
                <a href="#" class="hover:text-accent transition">YouTube</a>
                <a href="mailto:hello@matterly.ru" class="hover:text-accent transition">hello@matterly.ru</a>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vanilla-tilt@1.7.0/dist/vanilla-tilt.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="{{ url_for('static', filename='js/main.js') }}"></script>

    {% block extra_js %}{% endblock %}
</body>

</html>